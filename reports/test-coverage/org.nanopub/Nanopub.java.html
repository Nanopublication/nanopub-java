<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Nanopub.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">nanopub</a> &gt; <a href="index.source.html" class="el_package">org.nanopub</a> &gt; <span class="el_source">Nanopub.java</span></div><h1>Nanopub.java</h1><pre class="source lang-java linenums">package org.nanopub;

import net.trustyuri.TrustyUriException;
import org.eclipse.rdf4j.model.IRI;
import org.eclipse.rdf4j.model.Statement;
import org.eclipse.rdf4j.rio.RDFFormat;
import org.eclipse.rdf4j.rio.RDFHandlerException;
import org.nanopub.extra.security.SignNanopub;
import org.nanopub.extra.security.TransformContext;
import org.nanopub.extra.server.PublishNanopub;

import java.io.IOException;
import java.io.OutputStream;
import java.security.InvalidKeyException;
import java.security.SignatureException;
import java.util.Calendar;
import java.util.Set;

/**
 * This interface represents a nanopublication.
 *
 * @author Tobias Kuhn
 */
public interface Nanopub {

    /**
     * Returns the URI of this nanopublication. This is the URI that identifies the nanopub.
     *
     * @return the URI of this nanopublication
     */
    IRI getUri();

    /**
     * Returns the URI of the head of this nanopublication.
     *
     * @return the URI of the head of this nanopublication
     */
    IRI getHeadUri();

    /**
     * Returns the head of this nanopublication, which is a set of RDF statements.
     *
     * @return the head of this nanopublication
     */
    Set&lt;Statement&gt; getHead();

    /**
     * Returns the URI of the assertion of this nanopublication.
     *
     * @return the URI of the assertion of this nanopublication
     */
    IRI getAssertionUri();

    /**
     * Returns the assertion of this nanopublication, which is a set of RDF statements.
     *
     * @return the assertion of this nanopublication
     */
    Set&lt;Statement&gt; getAssertion();

    /**
     * Returns the URI of the provenance of this nanopublication.
     *
     * @return the URI of the provenance of this nanopublication
     */
    IRI getProvenanceUri();

    /**
     * Returns the provenance of this nanopublication, which is a set of RDF statements.
     *
     * @return the provenance of this nanopublication
     */
    Set&lt;Statement&gt; getProvenance();

    /**
     * Returns the URI of the publication information of this nanopublication.
     *
     * @return the URI of the publication information of this nanopublication
     */
    IRI getPubinfoUri();

    /**
     * Returns the publication information of this nanopublication, which is a set of RDF statements.
     *
     * @return the publication information of this nanopublication
     */
    Set&lt;Statement&gt; getPubinfo();

    /**
     * Returns the URIs of the graphs that are used in this nanopublication.
     *
     * @return the URIs of the graphs that are used in this nanopublication
     */
    Set&lt;IRI&gt; getGraphUris();

    // TODO: Now that we have SimpleCreatorPattern and SimpleTimestampPattern,
    // we might not need the following three methods anymore...

    /**
     * Returns the creation time of this nanopublication.
     *
     * @return the creation time of this nanopublication
     */
    Calendar getCreationTime();

    /**
     * Returns the URI of the authors of this nanopublication.
     *
     * @return the URI of the authors of this nanopublication
     */
    Set&lt;IRI&gt; getAuthors();

    /**
     * Returns the URIs of the creators of this nanopublication.
     *
     * @return the URIs of the creators of this nanopublication
     */
    Set&lt;IRI&gt; getCreators();

    /**
     * Returns the number of triples in this nanopublication.
     *
     * @return the number of triples in this nanopublication
     */
    int getTripleCount();

    /**
     * Returns the number of bytes that this nanopublication takes when serialized in RDF.
     *
     * @return the number of bytes that this nanopublication takes when serialized in RDF
     */
    long getByteCount();

    /**
     * Serializes this nanopublication to an RDF stream in the specified format.
     *
     * @param out    the output stream to which the nanopub should be written
     * @param format the RDF format to use for serialization
     * @throws org.eclipse.rdf4j.rio.RDFHandlerException if an error occurs during serialization
     */
    default void writeToStream(OutputStream out, RDFFormat format) throws RDFHandlerException {
<span class="nc" id="L142">        NanopubUtils.writeToStream(this, out, format);</span>
<span class="nc" id="L143">    }</span>

    /**
     * Serializes this nanopublication to a string in the specified format.
     *
     * @param format the RDF format to use for serialization
     * @return a string representation of the nanopublication in the specified format
     * @throws org.eclipse.rdf4j.rio.RDFHandlerException if an error occurs during serialization
     * @throws java.io.IOException                       if an I/O error occurs during serialization
     */
    default String writeToString(RDFFormat format) throws RDFHandlerException, IOException {
<span class="nc" id="L154">        return NanopubUtils.writeToString(this, format);</span>
    }

    /**
     * Publishes this nanopublication to the default server.
     *
     * @return the response from the server after publishing
     * @throws java.io.IOException if an I/O error occurs during publishing
     */
    default String publish() throws IOException {
<span class="nc" id="L164">        return PublishNanopub.publish(this);</span>
    }

    /**
     * Publishes this nanopublication to the specified server URL.
     *
     * @param serverUrl the URL of the server to which the nanopub should be published
     * @return the response from the server after publishing
     * @throws java.io.IOException if an I/O error occurs during publishing
     */
    default String publish(String serverUrl) throws IOException {
<span class="nc" id="L175">        return PublishNanopub.publish(this, serverUrl);</span>
    }

    /**
     * Signs this nanopublication.
     *
     * @param context the context for signing, which may include keys and other parameters
     * @return the signed nanopublication
     * @throws net.trustyuri.TrustyUriException  if there is an issue with the Trusty URI
     * @throws java.security.SignatureException  if there is an issue with the signature process
     * @throws java.security.InvalidKeyException if the key used for signing is invalid
     */
    default Nanopub sign(TransformContext context) throws TrustyUriException, SignatureException, InvalidKeyException {
<span class="nc" id="L188">        return SignNanopub.signAndTransform(this, context);</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>