<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FdoQuery.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">nanopub</a> &gt; <a href="index.source.html" class="el_package">org.nanopub.fdo</a> &gt; <span class="el_source">FdoQuery.java</span></div><h1>FdoQuery.java</h1><pre class="source lang-java linenums">package org.nanopub.fdo;

import org.nanopub.extra.services.ApiResponse;
import org.nanopub.extra.services.FailedApiCallException;
import org.nanopub.extra.services.QueryAccess;

import java.util.Map;

/**
 * This class represents an FDO query.
 */
public class FdoQuery {

    private static final String textSearch = &quot;RAkYh4UPJryajbtIDbLG-Bfd6A4JD2SbU9bmZdvaEdFRY/fdo-text-search&quot;;
    private static final String findByRef = &quot;RAQiQjx3OiO9ra9ImWl9kpuDpT8d3EiBSrftckOAAwGKc/find-fdos-by-ref&quot;;
    private static final String getFeed = &quot;RAP1G35VvTs3gfMaucv_xZUMZuvjB9lxM8tWUGttr5mmo/get-fdo-feed&quot;;
    private static final String getFavoriteThings = &quot;RAsyc6zFFnE8mblnDfdCCNRsrcN1CSCBDW9I4Ppidgk9g/get-favorite-things&quot;;

    private FdoQuery() {
        // no instances
    }

    /**
     * This query performs a full-text search on the FDO nanopublications.
     *
     * @param query The search query string
     * @return An ApiResponse containing the FDOs that match the search query.
     * @throws org.nanopub.extra.services.FailedApiCallException if the API call fails.
     */
    public static ApiResponse textSearch(String query) throws FailedApiCallException {
<span class="fc" id="L31">        return QueryAccess.get(textSearch, Map.of(&quot;query&quot;, query));</span>
    }

    /**
     * This query returns the FDOs whose records refer to the given PID / handle.
     *
     * @param ref The PID or handle to search for
     * @return An ApiResponse containing the FDOs that refer to the given PID / handle.
     * @throws org.nanopub.extra.services.FailedApiCallException if the API call fails.
     */
    public static ApiResponse findByRef(String ref) throws FailedApiCallException {
<span class="fc" id="L42">        return QueryAccess.get(findByRef, Map.of(&quot;refid&quot;, ref));</span>
    }

    /**
     * This query returns the latest FDOs from the specified creator.
     *
     * @param creator The orcid url, i.e. &lt;a href=&quot;https://orcid.org/0009-0008-3635-347X&quot;&gt;...&lt;/a&gt;
     * @return An ApiResponse containing the FDOs created by the specified user.
     * @throws FailedApiCallException if the API call fails.
     */
    public static ApiResponse getFeed(String creator) throws FailedApiCallException {
<span class="fc" id="L53">        return QueryAccess.get(getFeed, Map.of(&quot;creator&quot;, creator));</span>
    }

    /**
     * This query returns the things the given user has declared to be their favorites (using cito:likes).
     *
     * @param creator The orcid url, i.e. &lt;a href=&quot;https://orcid.org/0009-0008-3635-347X&quot;&gt;...&lt;/a&gt;
     * @return An ApiResponse containing the favorite things of the specified user.
     * @throws FailedApiCallException if the API call fails.
     */
    public static ApiResponse getFavoriteThings(String creator) throws FailedApiCallException {
<span class="fc" id="L64">        return QueryAccess.get(getFavoriteThings, Map.of(&quot;creator&quot;, creator));</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>